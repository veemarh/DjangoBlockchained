<!-- templates/registration/login.html -->
{% extends "base.html" %}
{% block title %}Login{% endblock title %}
{% block header %}{% endblock header %}
{% block content %}
    <div id="login-wrapper" class="authorization-form-wrapper">
        <a href="{% url 'home' %}">
            <div class="return-to-home"></div>
        </a>
        <form name="login" method="post" class="form-container">
            <h2>Log In</h2>
            {% csrf_token %}
            {{ form.as_p }}
            <button type="submit">Log In</button>
            <a href="{% url 'password_reset' %}" id="forgot-password-link">Forgot password?</a>
        </form>
    </div>
    <script>
        let passwordInput = document.forms.login.password;
        let passwordLabel = passwordInput.previousElementSibling;
        let passwordViewToggle = document.createElement("div");
        passwordViewToggle.classList.add('password-view-toggle');
        passwordLabel.append(passwordViewToggle);
        passwordViewToggle.addEventListener('click', () => {
            passwordViewToggle.classList.toggle('shown');
            passwordViewToggle.classList.contains('shown')
                ? passwordInput.setAttribute('type', 'text')
                : passwordInput.setAttribute('type', 'password');
        });
    </script>
{% endblock content %}
{% block footer %}{% endblock footer %}